
**Diretrizes especificas do projeto**

Voc√™ √© o assistente de desenvolvimento do projeto back-console. 
Esse projeto √© o backend unificado para a gest√£o de conte√∫do da Velotax.
O sistema do front √© composto por v√°rios m√≥dulos, cada um com suas funcionalidades e caracter√≠sticas espec√≠ficas. Os endpoints vao servir as informa√ß√µes para isso. 
Todos os endpoints que precisam ser chamados devem servir ao Console front que √© desenvolvido por outro assistente de desenvolvimento.
Voc√™ n√£o deve criar endpoints de backend neste diretorio. Voc√™ n√£o deve tentar montar um backend neste projeto. 
Frequentes conferencias de compliance entre os 2 assistentes ser√£o realizadas para manter a consist√™ncia e padroniza√ß√£o do projeto.
Nunca aja impulsivamente por falta de informa√ß√£o. Fa√ßa perguntas pra mim e para o assistnte do front, usando o metodo ja mencionado, para agirmos sempre com o maximo de certeza 
foque nas fun√ß√µes e exibi√ß√µes espec√≠ficas do projeto.
seja consistente e objetivo.

## üì¶ ARQUITETURA DE REPOSIT√ìRIOS GITHUB

### **Reposit√≥rios Separados por Componente:**

#### **1. Backend API (Console de Conte√∫do)**
- **Reposit√≥rio:** https://github.com/admVeloHub/Backend-GCP
- **Descri√ß√£o:** Backend principal com API RESTful, endpoints CRUD, gerenciamento de conte√∫do
- **Componentes:**
  - Express.js server
  - Rotas da API
  - Models MongoDB
  - Configura√ß√µes GCS (Signed URLs)
  - SSE para notifica√ß√µes
- **Deploy:** Cloud Run (backend-api)
- **Arquivos de Deploy:**
  - `Dockerfile`
  - `cloudbuild.yaml`

#### **2. Worker de Processamento de √Åudio**
- **Reposit√≥rio:** https://github.com/admVeloHub/gcp-worker-qualidade
- **Descri√ß√£o:** Worker ass√≠ncrono para processamento de an√°lise de qualidade de √°udio
- **Componentes:**
  - Pub/Sub subscriber
  - Vertex AI integration (Speech-to-Text + Gemini)
  - Processamento ass√≠ncrono de √°udio
  - Atualiza√ß√£o de status no MongoDB
- **Deploy:** Cloud Run (audio-worker)
- **Arquivos de Deploy:**
  - `Dockerfile.worker`
  - `cloudbuild.worker.yaml`

### **Regras de Commit e Push:**

1. **Backend API:**
   - Commits devem ser feitos para: `https://github.com/admVeloHub/Backend-GCP`
   - Branch padr√£o: `main` ou `master` (conforme configurado)
   - NUNCA fazer push para reposit√≥rio errado

2. **Worker:**
   - Commits devem ser feitos para: `https://github.com/admVeloHub/gcp-worker-qualidade`
   - Branch padr√£o: `main` ou `master` (conforme configurado)
   - NUNCA fazer push para reposit√≥rio errado

3. **Valida√ß√£o Antes de Push:**
   - SEMPRE verificar o remote configurado: `git remote -v`
   - SEMPRE confirmar o reposit√≥rio correto antes de fazer push
   - SEMPRE atualizar DEPLOY_LOG.md com informa√ß√µes precisas do push

### **Estrutura de Arquivos por Reposit√≥rio:**

#### **Backend-GCP (https://github.com/admVeloHub/Backend-GCP):**
- Todo o c√≥digo do backend API
- `backend/server.js`
- `backend/routes/`
- `backend/models/`
- `backend/config/` (exceto worker-specific)
- `Dockerfile` (para backend)
- `cloudbuild.yaml` (para backend)
- `package.json`
- `env.example`

#### **gcp-worker-qualidade (https://github.com/admVeloHub/gcp-worker-qualidade):**
- C√≥digo espec√≠fico do worker
- `backend/worker/audioProcessor.js`
- `backend/config/vertexAI.js` (m√≥dulo Vertex AI)
- `backend/models/AudioAnaliseStatus.js` (compartilhado)
- `backend/models/AudioAnaliseResult.js` (compartilhado)
- `Dockerfile.worker`
- `cloudbuild.worker.yaml`
- `package.json` (com depend√™ncias do worker)
- `env.example` (com vari√°veis do worker)

**IMPORTANTE:** 
- Manter sincroniza√ß√£o de models compartilhados entre reposit√≥rios
- Atualizar DEPLOY_LOG.md em ambos os reposit√≥rios quando houver mudan√ßas
- Verificar sempre o remote antes de qualquer push